<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns="http://www.w3.org/1999/html"
      layout:decorate="~{layout/layout}">
<main layout:fragment="content">
    <link rel="stylesheet" th:href="@{/css/infoSchool.css}">

    <section id="pageMap" class="container my-3">
        <button onclick="redirectToPage()" class="apiButtonGreen btn btn-primary">학교관리 화면으로</button>
    </section>

    <section class="container my-3 justify-content-md-center flex-container" id="infoSection">
        <div class="col-md-6">
            <table class="infoTable table">
                <tbody>
                <tr>
                    <th>정보공시학교코드</th>
                    <th>학교명</th>
                    <th>시도교육청</th>
                    <th>지역교육청</th>
                    <th>설립구분</th>
                    <th>주야구분</th>
                    <th>남녀공학여부</th>
                </tr>
                <tr>
                    <td th:text="${schoolDetail.schoolCode}"></td>
                    <td th:text="${school.schoolName}"></td>
                    <td th:text="${school.cityEduOrg}"></td>
                    <td th:text="${school.localEduOrg}"></td>
                    <td th:text="${schoolDetail.foundationName}"></td>
                    <td th:text="${schoolDetail.dayNightName}"></td>
                    <td th:text="${schoolDetail.coedu}"></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-6">
            <table class="infoTable table">
                <tbody>
                <tr>
                    <th>시도명</th>
                    <th>시군구명</th>
                    <th>도로명주소</th>
                    <th>우편번호</th>
                    <th>전화번호</th>
                    <th>홈페이지주소</th>
                    <th>팩스번호</th>
                </tr>
                <tr>
                    <td th:text="${school.cityName}"></td>
                    <td th:text="${school.streetAddr}"></td>
                    <td th:text="${school.streetAddr}"></td>
                    <td th:text="${schoolDetail.postNum}"></td>
                    <td th:text="${schoolDetail.telNum}"></td>
                    <td th:text="${schoolDetail.hmpgAddr}"></td>
                    <td th:text="${schoolDetail.faxNum}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="container my-3">
        <div class="row d-flex justify-content-between">
            <div id="mapContent" class="col-md-7  border border-dark rounded-3 me-1">
                <div id="mapArea" class="p-1 bg-body-tertiary">
                    <figure id="map" class="w-100 h-100"></figure>
                </div>
            </div>
            <div id="weatherContent" class="border border-dark rounded-3">
                <div class="h-100 p-1 bg-body-tertiary">
                    <h2> 날씨 앱을 넣을 부분 </h2>
                    <p>기상청 단기예보 날씨 API를 넣을 예정</p>
                </div>
            </div>
        </div>
    </section>

    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=mo4ez0j3y6&submodules=geocoder"></script>
    <script th:src="@{/js/map.js}"></script>
    <script>
        const schoolName = "[[${school.schoolName}]]";
        const streetDetailAddress = "[[${schoolDetail.streetDetailAddr}]]";

        searchAddressToCoordinate(streetDetailAddress, schoolName);
    </script>
    <script type="text/javascript">
        function redirectToPage() {
            window.location.href = "/high/school/search"
        }
    </script>
</main>
</html>